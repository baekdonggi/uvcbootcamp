


<!-- 
  - 프라미스 객체를 만들고, "안녕하세요"를 resolve한다
  - then을 활용하여 위에서 resolve한 "안녕하세요"를 출력하고, 받은데이터 + " 여러분"을 반환(return)한다
  - 다음 then을 추가하여 위에 반환한 데이터를 출력한다.
  - 
 -->
<html>
  <body>
    프라미스
  </body>
</html>
<script>
  
new Promise((reslove) =>{
   reslove("안녕하세요")
})
.then((result)=>{
 console.log(result)
 return result + "여러분"
})
.then((result)=>{
  console.log(result)
})

// 프라미스 객체 반환(return)하고 파라메터가 name, prevName으로 설정하는 함수 promise_func를 만든다.
//   - 함수 promise_func에서 "(prevName),(name), " 형태로 newName 변수에 담는다. 
// (단, prevName이 없다면, name만 담는다.)
//   - 함수 promise_func에서 newName을 1초후에 출력하고, resolve하는 타이머를 만든다.
//   - 햄버거, 피자, 치킨, 떡볶이가 순서대로 출력될 수 있도록, 함수 promise_func를 호출한다. (then 사용) 
//     (햄버거 -> 햄버거, 피자 -> 햄버거, 피자, 치킨 -> 햄버거, 피자, 치킨, 떡볶이)
// let list ='햄버거'
// const promise_func = (name,prevName) => {
//   return new Promise((resolve) => {
//     setTimeout(()=> {
//       let newName =''
//       if (prevName) {
//          newName = `${prevName}, ${name}`
//       } else {
//        newName = name
//     }
//     console.log(newName)
//     resolve(newName)
//   },1000)
//   })}
//   promise_func('햄버거')
//   .then(list => promise_func('피자',list))
//   .then(list => promise_func('치킨',list))
//   .then(list => promise_func('떡볶이',list))

const promise_func = (name, prevName) => {
  let newName = ''
  if(prevName) {
    newName = `${prevName}, ${name}`   
  } else {
    newName = name 
  }
  return new Promise((resolve) => {
   setTimeout(() =>{
     console.log(newName)
    resolve(newName)
   }, 1000)
 })
}

promise_func("햄버거")
 .then((fastfood)=>{
   return promise_func("피자",fastfood)
 })
//위에랑 똑같아 한줄이면 리턴생략 .then((fastfood)=>{promise_func("피자",fastfood)}

.then((fastfood)=> promise_func("치킨",fastfood))
.then((fastfood)=> promise_func("떡볶이",fastfood))



</script>
